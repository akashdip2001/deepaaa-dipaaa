<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hi D</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Dancing Script", cursive, Arial, sans-serif;
      background-color: #9caf88;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }

    /* Subtle white micro pattern */
    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: radial-gradient(white 0.8px, transparent 0.8px);
      background-size: 20px 20px;
      opacity: 0.25;
      pointer-events: none;
    }

    .welcome-overlay {
      position: relative;
      text-align: center;
      color: white;
      max-width: 800px;
      padding: 2rem;
      z-index: 2;
      transition: opacity 1s ease;
    }

    .line {
      font-size: 1.8rem;
      margin: 15px 0;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 1s forwards;
    }

    .line:nth-child(1) { animation-delay: 0.5s; }
    .line:nth-child(2) { animation-delay: 2s; }
    .line:nth-child(3) { animation-delay: 3.5s; }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .enter-button {
      margin-top: 2rem;
      background: white;
      color: #333;
      padding: 12px 30px;
      font-size: 1.2rem;
      border-radius: 30px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .enter-button:hover {
      background: #f4f4f4;
      transform: translateY(-3px);
    }

    .main-iframe {
      width: 100%;
      height: 100vh;
      border: none;
      display: none;
      opacity: 0;
      transition: opacity 1.2s ease;
    }

    .main-iframe.active {
      display: block;
      opacity: 1;
    }

    /* Secret trigger */
    .secret-trigger {
      position: fixed;
      bottom: 20px;
      right: 20px;
      font-size: 28px;
      cursor: pointer;
      opacity: 0.7;
      transition: all 0.3s ease;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      animation: secretPulse 3s ease-in-out infinite;
    }

    @keyframes secretPulse {
      0%, 100% { 
        opacity: 0.7; 
        transform: scale(1);
      }
      50% { 
        opacity: 0.9; 
        transform: scale(1.05);
      }
    }
    
    .secret-trigger:hover,
    .secret-trigger:active {
      opacity: 1;
      transform: scale(1.1);
      background: rgba(255, 255, 255, 0.4);
    }

    /* Mobile-specific styles for secret trigger */
    @media (max-width: 768px) {
      .secret-trigger {
        font-size: 32px;
        width: 60px;
        height: 60px;
        bottom: max(25px, env(safe-area-inset-bottom, 25px));
        right: max(25px, env(safe-area-inset-right, 25px));
        opacity: 0.8;
        background: rgba(255, 255, 255, 0.25);
        border: 3px solid rgba(255, 255, 255, 0.4);
      }
    }

    /* Extra small mobile devices */
    @media (max-width: 480px) {
      .secret-trigger {
        font-size: 30px;
        width: 55px;
        height: 55px;
        bottom: 20px;
        right: 20px;
        opacity: 0.9;
      }
    }

    /* High DPI displays (like your Narzo 50 Pro 5G) */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
      .secret-trigger {
        font-size: 34px;
        width: 65px;
        height: 65px;
        opacity: 0.85;
        border-width: 3px;
      }
    }

    /* Specific for devices like Narzo 50 Pro 5G (1080x2400) */
    @media screen and (min-width: 360px) and (max-width: 450px) and (min-height: 700px) {
      .secret-trigger {
        font-size: 36px !important;
        width: 70px !important;
        height: 70px !important;
        bottom: 30px !important;
        right: 30px !important;
        opacity: 0.9 !important;
        background: rgba(255, 255, 255, 0.3) !important;
        border: 4px solid rgba(255, 255, 255, 0.5) !important;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3) !important;
      }
      
      .secret-trigger:hover,
      .secret-trigger:active {
        opacity: 1 !important;
        transform: scale(1.15) !important;
        background: rgba(255, 255, 255, 0.5) !important;
      }
    }

    /* For very specific screen ratios (like 20:9 or 21:9) */
    @media screen and (min-aspect-ratio: 18/9) {
      .secret-trigger {
        bottom: 40px !important;
        font-size: 38px !important;
        width: 75px !important;
        height: 75px !important;
        opacity: 0.95 !important;
      }
    }

    /* Hidden message box */
    .hidden-message {
      display: none;
      position: fixed;
      bottom: 100px;
      right: 20px;
      max-width: 350px;
      background: rgba(255, 255, 255, 0.97);
      color: #333;
      padding: 1.2rem;
      border-radius: 12px;
      font-size: 1rem;
      line-height: 1.5;
      box-shadow: 0 6px 15px rgba(0,0,0,0.3);
      animation: fadeIn 0.8s ease forwards;
      white-space: pre-line;
      z-index: 999;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.5);
    }

    /* Mobile responsiveness for hidden message */
    @media (max-width: 768px) {
      .hidden-message {
        position: fixed;
        bottom: 100px;
        left: 15px;
        right: 15px;
        max-width: calc(100vw - 30px);
        font-size: 0.9rem;
      }
    }

    @media (max-width: 480px) {
      .hidden-message {
        bottom: 90px;
        left: 10px;
        right: 10px;
        max-width: calc(100vw - 20px);
        padding: 1rem;
        font-size: 0.85rem;
      }
    }

    .hidden-message .close-btn {
      position: absolute;
      top: 8px;
      right: 10px;
      font-size: 18px;
      cursor: pointer;
      color: #666;
      background: transparent;
      border: none;
    }
    .hidden-message .close-btn:hover {
      color: #000;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <iframe id="mainIframe" class="main-iframe" src="main.html"></iframe>

  <div id="welcomeScreen" class="welcome-overlay">
    <p class="line">Some friendships don‚Äôt last forever‚Ä¶</p>
    <p class="line">yet the memories stay gentle in the heart.</p>
    <p class="line">Thank you for being part of my story. üåø</p>
    <button id="enterBtn" class="enter-button">Enter</button>
  </div>

  <!-- Secret trigger (tiny flower icon) -->
  <div class="secret-trigger" id="secretTrigger">üå∏</div>

  <!-- Hidden heartfelt message -->
  <div class="hidden-message" id="hiddenMessage">
    <button class="close-btn" id="closeBtn">‚ùå</button>
    I can never forget the very first smile‚Ä¶  
    it felt brighter than the place we stood in.  

    Your laughter, your way of talking‚Äî  
    even in a short span, it felt like a bond  
    carved deeper than time could measure.  

    I know my own boundaries,  
    and maybe those limits pulled me back.  
    But that never reduced the value you held.  

    It hurts to step away,  
    yet what stays is respect, gratitude, and the wish  
    that your smile never fades. üåø
  </div>

  <script>
    const enterBtn = document.getElementById("enterBtn");
    const welcomeScreen = document.getElementById("welcomeScreen");
    const mainIframe = document.getElementById("mainIframe");
    const secretTrigger = document.getElementById("secretTrigger");
    const hiddenMessage = document.getElementById("hiddenMessage");
    const closeBtn = document.getElementById("closeBtn");

    // Debug function for mobile testing
    function debugMobileInfo() {
      console.log("Screen dimensions:", window.screen.width, "x", window.screen.height);
      console.log("Viewport dimensions:", window.innerWidth, "x", window.innerHeight);
      console.log("Device pixel ratio:", window.devicePixelRatio);
      console.log("User agent:", navigator.userAgent);
      console.log("Secret trigger element:", secretTrigger);
      if (secretTrigger) {
        const rect = secretTrigger.getBoundingClientRect();
        console.log("Secret trigger position:", rect);
        console.log("Secret trigger computed styles:", window.getComputedStyle(secretTrigger));
      }
    }

    // Enhanced mobile detection and setup
    function setupMobileOptimizations() {
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      const isNarzo = /Narzo|Realme/i.test(navigator.userAgent);
      
      if (isMobile || window.innerWidth <= 768) {
        // Make button more visible on mobile
        if (secretTrigger) {
          secretTrigger.style.setProperty('opacity', '0.9', 'important');
          secretTrigger.style.setProperty('background', 'rgba(255, 255, 255, 0.4)', 'important');
          secretTrigger.style.setProperty('border', '3px solid rgba(255, 255, 255, 0.6)', 'important');
          
          if (isNarzo || window.innerHeight > 800) {
            secretTrigger.style.setProperty('font-size', '40px', 'important');
            secretTrigger.style.setProperty('width', '80px', 'important');
            secretTrigger.style.setProperty('height', '80px', 'important');
          }
        }
      }
      
      // Call debug function
      debugMobileInfo();
    }

    enterBtn.addEventListener("click", () => {
      welcomeScreen.style.opacity = "0";
      setTimeout(() => {
        welcomeScreen.style.display = "none";
        mainIframe.classList.add("active");
        // Setup mobile optimizations after welcome screen is hidden
        setTimeout(setupMobileOptimizations, 100);
      }, 1000);
    });

    // Toggle hidden message on flower click
    secretTrigger.addEventListener("click", (e) => {
      e.preventDefault();
      console.log("Secret trigger clicked!");
      hiddenMessage.style.display =
        hiddenMessage.style.display === "block" ? "none" : "block";
    });

    // Also add touch events for better mobile support
    secretTrigger.addEventListener("touchstart", (e) => {
      console.log("Secret trigger touched!");
      e.preventDefault();
      secretTrigger.style.transform = "scale(1.1)";
    });

    secretTrigger.addEventListener("touchend", (e) => {
      e.preventDefault();
      secretTrigger.style.transform = "scale(1)";
      hiddenMessage.style.display =
        hiddenMessage.style.display === "block" ? "none" : "block";
    });

    // Close hidden message with ‚ùå button
    closeBtn.addEventListener("click", () => {
      hiddenMessage.style.display = "none";
    });

    // Initial setup
    document.addEventListener("DOMContentLoaded", () => {
      setupMobileOptimizations();
    });
  </script>
</body>
</html>
