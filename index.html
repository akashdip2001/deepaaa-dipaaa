<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hi D</title>
    <!-- <link rel="icon" type="image/png" href="assets/logo.png"> -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üçé</text></svg>">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="leaf-animations.css">
</head>

<body>
    <div id="leaves">
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>
        <i></i>

        <div class="container">
            <div class="card">
                <p id="story"></p>
                <div id="options"></div>
                <button id="nextBtn">Next</button>
            </div>
        </div>

        <div class="ticker-container">
            <div class="ticker-text">
                Respect Women, <strong>Not Because They Are Women</strong> | Do Because
                <a href="#" class="playMenSong" target="_blank">
                    You are Men
                </a>
            </div>
            <div class="ticker-text">
                Respect Women, <strong>Not Because They Are Women</strong> | Do Because
                <a href="#" class="playMenSong" target="_blank">
                    You are Men
                </a>
                </a>
            </div>
        </div>

    </div>
    <audio id="song10" src="assets/somg10.mp3"></audio>
    <script>
        // Global variables for audio control
        window.audioPositions = {};
        window.isPlayingMenSong = false;
        
        const ticker = document.querySelector('.ticker-container');
        const texts = ticker.querySelectorAll('.ticker-text');

        ticker.addEventListener('mouseover', () => {
            texts.forEach(el => el.style.animationPlayState = 'paused');
        });

        ticker.addEventListener('mouseout', () => {
            texts.forEach(el => el.style.animationPlayState = 'running');
        });
        
        // Play song10.mp3 when "You are Men" is clicked, pause other audios
        document.querySelectorAll('.playMenSong').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                
                const song10 = document.getElementById('song10');
                const bgMusic = document.getElementById('bgMusic');
                
                if (window.isPlayingMenSong) {
                    // If already playing men song, stop it and resume background music
                    song10.pause();
                    window.audioPositions['song10'] = song10.currentTime;
                    
                    // Resume background music from saved position
                    if (window.audioPositions['bgMusic'] !== undefined) {
                        bgMusic.currentTime = window.audioPositions['bgMusic'];
                        bgMusic.play().catch(err => {
                            console.error('Audio play error:', err);
                        });
                    }
                    
                    window.isPlayingMenSong = false;
                } else {
                    // Save current positions of all audio elements
                    document.querySelectorAll('audio').forEach(audio => {
                        window.audioPositions[audio.id] = audio.currentTime;
                        audio.pause();
                    });
                    
                    // Play song10.mp3
                    if (song10) {
                        console.log('Playing somg10.mp3');
                        if (window.audioPositions['song10'] !== undefined) {
                            song10.currentTime = window.audioPositions['song10'];
                        }
                        song10.play().catch(err => {
                            console.error('Audio play error:', err);
                        });
                        window.isPlayingMenSong = true;
                    }
                }
            });
        });
    </script>
    <script src="script.js"></script>
</body>

</html>